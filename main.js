!function(){"use strict";class e{constructor(e,t,s,r,n){this._name=e.name,this._link=e.link,this._isLiked=e.isLiked,this._id=e._id,this._cardSelector=t,this._handleCardImageClick=s,this._handleDeleteCardClick=r,this._handleLikeClick=n}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{console.log("This",this),this._handleLikeClick(this._id,this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCardClick(this)})),this._cardImage.addEventListener("click",(()=>{this._handleCardImageClick({link:this._link,name:this._name})}))}_handleLikeIcon(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}setCardLike(e){this._isLiked=e,this._handleLikeIcon()}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this.getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._deleteButton=this._cardElement.querySelector(".card__trash-button"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._handleLikeIcon(),this._setEventListeners(),this._cardElement}}var t=class{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_toggleButtonState(e){this._hasInvalidInput(e)?this.disableSubmitButton():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}disableSubmitButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_setEventListeners(){this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState(this._inputEls,this._submitButton)}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".modal__close").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal_opened"))&&this.close()}))}}class r extends s{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=s,this._inputElements=this._popupElement.querySelectorAll(".modal__input"),this._submitButton=this._popupElement.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}_getInputValues(){const e={};return this._inputElements.forEach((t=>{e[t.name]=t.value})),e}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}resetForm(){this._popupForm.reset()}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}const n=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}addCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse)}setUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"80eefb5d-3c72-4e96-aa37-56dafc99311a","Content-Type":"application/json"}}),i={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},o=document.querySelector(".profile__add-button"),a=document.querySelector("#profile-title-input"),l=document.querySelector("#profile-description-input"),c=document.querySelector("#profile-edit-modal"),d=document.querySelector("#add-card-modal"),h=document.querySelector("#profile-edit-button"),u=document.querySelector("#profile-image-button"),_=document.forms["edit-avatar-form"],m=document.querySelector(".profile__image"),p=new class extends s{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._popupSrc=this._popupElement.querySelector(".modal__preview-image"),this._popupCap=this._popupElement.querySelector(".modal__image-caption")}open(e){this._popupCap.textContent=e.name,this._popupSrc.src=e.link,this._popupSrc.alt=e.name,super.open()}}({popupSelector:"#preview-image-modal"});n.getUserInfo().then((e=>{E.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).catch((e=>console.error("Error Fetching User Info",e)));const E=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,about:this._jobElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){this._nameElement.textContent=e.name,this._jobElement.textContent=e.about,this._avatarElement.src=e.avatar}}({nameSelector:"#profile-title",jobSelector:"#profile-description",avatarSelector:".profile__image"}),v=new r({popupSelector:"#profile-edit-modal",handleFormSubmit:e=>{v.renderLoading(!0),n.setUserInfo(e.name,e.about).then((e=>{E.setUserInfo(e),v.close(),v.resetForm(),y.disableSubmitButton()})).catch((e=>console.error("Error updating user info",e))).finally((()=>{v.renderLoading(!1)}))}}),S=new r({popupSelector:"#add-card-modal",handleFormSubmit:e=>{let{name:t,link:s}=e;S.renderLoading(!0),n.addCard(t,s).then((e=>{const t=k(e);f.addItems(t),S.close(),S.resetForm(),I.disableSubmitButton()})).catch((e=>{console.error(e)})).finally((()=>{S.renderLoading(!1)}))}}),b=new class extends s{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form")}setSubmitAction(e){this._handleConfirmDelete=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleConfirmDelete()}))}}({popupSelector:"#confirmation-modal"});b.setEventListeners();const f=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItems(e){this._container.prepend(e)}}({renderer:e=>{const t=k(e);f.addItems(t)}},".cards__list");function k(t){return new e(t,"#card-template",(e=>{p.open(e)}),C,L).getView()}function L(e,t){t._isLiked?n.removeLike(e).then((()=>{t.setCardLike(!1),console.log("like removed for card ID",e)})).catch((e=>console.error("error removing like:",e))):n.addLike(e).then((()=>{t.setCardLike(!0)})).catch((e=>console.error("Error adding like",e)))}function C(e){b.open(),b.setSubmitAction((()=>{n.deleteCard(e._id).then((()=>{e.handleDeleteCard(),b.close()})).catch((e=>console.error("Error deleting cards:",e)))}))}u.addEventListener("click",(()=>{g.open()}));const g=new r({popupSelector:"#edit-avatar-modal",handleFormSubmit:e=>{g.renderLoading(!0);const t=e.link;n.updateAvatar(t).then((e=>{m.src=e.avatar,g.close(),g.resetForm(),B.disableSubmitButton()})).catch((e=>console.error("Error updating avatar",e))).finally((()=>{g.renderLoading(!1)}))}});g.setEventListeners(),o.addEventListener("click",(()=>S.open())),v.setEventListeners(),S.setEventListeners(),p.setEventListeners(),h.addEventListener("click",(()=>{const e=E.getUserInfo();a.value=e.name,l.value=e.about,v.open()}));const y=new t(i,c),I=new t(i,d),B=new t(i,_);y.enableValidation(),I.enableValidation(),B.enableValidation(),n.getInitialCards().then((e=>{f.renderItems(e)})).catch((e=>console.error("Error fetching initial cards",e)))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQ0VDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBRUFDLEtBQUtDLE1BQVFOLEVBQUtPLEtBQ2xCRixLQUFLRyxNQUFRUixFQUFLUyxLQUNsQkosS0FBS0ssU0FBV1YsRUFBS1csUUFDckJOLEtBQUtPLElBQU1aLEVBQUtZLElBQ2hCUCxLQUFLUSxjQUFnQlosRUFDckJJLEtBQUtTLHNCQUF3QlosRUFDN0JHLEtBQUtVLHVCQUF5QlosRUFDOUJFLEtBQUtXLGlCQUFtQlosQ0FDMUIsQ0FFQWEsa0JBQUFBLEdBRUVaLEtBQUthLFlBQVlDLGlCQUFpQixTQUFTLEtBQ3pDQyxRQUFRQyxJQUFJLE9BQVFoQixNQUNwQkEsS0FBS1csaUJBQWlCWCxLQUFLTyxJQUFLUCxLQUFLLElBR3ZDQSxLQUFLaUIsY0FBY0gsaUJBQWlCLFNBQVMsS0FDM0NkLEtBQUtVLHVCQUF1QlYsS0FBSyxJQUVuQ0EsS0FBS2tCLFdBQVdKLGlCQUFpQixTQUFTLEtBQ3hDZCxLQUFLUyxzQkFBc0IsQ0FBRUwsS0FBTUosS0FBS0csTUFBT0QsS0FBTUYsS0FBS0MsT0FBUSxHQUV0RSxDQUVBa0IsZUFBQUEsR0FDTW5CLEtBQUtLLFNBQ1BMLEtBQUthLFlBQVlPLFVBQVVDLElBQUksNEJBRS9CckIsS0FBS2EsWUFBWU8sVUFBVUUsT0FBTywyQkFFdEMsQ0FFQUMsV0FBQUEsQ0FBWWpCLEdBQ1ZOLEtBQUtLLFNBQVdDLEVBQ2hCTixLQUFLbUIsaUJBQ1AsQ0FFQUssZ0JBQUFBLEdBQ0V4QixLQUFLeUIsYUFBYUgsU0FDbEJ0QixLQUFLeUIsYUFBZSxJQUN0QixDQUVBQyxXQUFBQSxHQUNFLE9BQU9DLFNBQ0pDLGNBQWM1QixLQUFLUSxlQUNuQnFCLFFBQVFELGNBQWMsU0FDdEJFLFdBQVUsRUFDZixDQUVBQyxPQUFBQSxHQVlFLE9BWEEvQixLQUFLeUIsYUFBZXpCLEtBQUswQixjQUN6QjFCLEtBQUthLFlBQWNiLEtBQUt5QixhQUFhRyxjQUFjLHNCQUNuRDVCLEtBQUtrQixXQUFhbEIsS0FBS3lCLGFBQWFHLGNBQWMsZ0JBQ2xENUIsS0FBS2lCLGNBQWdCakIsS0FBS3lCLGFBQWFHLGNBQWMsdUJBQ3JENUIsS0FBS2dDLFdBQWFoQyxLQUFLeUIsYUFBYUcsY0FBYyxnQkFDbEQ1QixLQUFLa0IsV0FBV2UsSUFBTWpDLEtBQUtHLE1BQzNCSCxLQUFLa0IsV0FBV2dCLElBQU1sQyxLQUFLQyxNQUMzQkQsS0FBS2dDLFdBQVdHLFlBQWNuQyxLQUFLQyxNQUNuQ0QsS0FBS21CLGtCQUVMbkIsS0FBS1kscUJBQ0VaLEtBQUt5QixZQUNkLEVDRUYsTUF6RUEsTUFDRS9CLFdBQUFBLENBQVkwQyxFQUFVQyxHQUNwQnJDLEtBQUtzQyxjQUFnQkYsRUFBU0csYUFDOUJ2QyxLQUFLd0MsZUFBaUJKLEVBQVNLLGNBQy9CekMsS0FBSzBDLHNCQUF3Qk4sRUFBU08scUJBQ3RDM0MsS0FBSzRDLHFCQUF1QlIsRUFBU1Msb0JBQ3JDN0MsS0FBSzhDLGlCQUFtQlYsRUFBU1csZ0JBQ2pDL0MsS0FBS2dELFlBQWNaLEVBQVNhLFdBQzVCakQsS0FBS2tELFFBQVViLENBQ2pCLENBRUFjLGVBQUFBLENBQWdCQyxHQUNkLE1BQU1DLEVBQWlCckQsS0FBS2tELFFBQVF0QixjQUFjLElBQUl3QixFQUFRRSxZQUM5REYsRUFBUWhDLFVBQVVDLElBQUlyQixLQUFLOEMsa0JBQzNCTyxFQUFlbEIsWUFBY2lCLEVBQVFHLGtCQUNyQ0YsRUFBZWpDLFVBQVVDLElBQUlyQixLQUFLZ0QsWUFDcEMsQ0FFQVEsZUFBQUEsQ0FBZ0JKLEdBQ2QsTUFBTUMsRUFBaUJyRCxLQUFLa0QsUUFBUXRCLGNBQWMsSUFBSXdCLEVBQVFFLFlBQzlERixFQUFRaEMsVUFBVUUsT0FBT3RCLEtBQUs4QyxrQkFDOUJPLEVBQWVsQixZQUFjLEdBQzdCa0IsRUFBZWpDLFVBQVVFLE9BQU90QixLQUFLZ0QsWUFDdkMsQ0FFQVMsZ0JBQUFBLEdBQ0UsT0FBUXpELEtBQUswRCxVQUFVQyxPQUFPUCxHQUFZQSxFQUFRUSxTQUFTQyxPQUM3RCxDQUVBQyxtQkFBQUEsQ0FBb0JWLEdBQ2xCLElBQUtBLEVBQVFRLFNBQVNDLE1BQ3BCLE9BQU83RCxLQUFLbUQsZ0JBQWdCQyxHQUc5QnBELEtBQUt3RCxnQkFBZ0JKLEVBQ3ZCLENBRUFXLGtCQUFBQSxDQUFtQlgsR0FDYnBELEtBQUt5RCxpQkFBaUJMLEdBQ3hCcEQsS0FBS2dFLHVCQUVMaEUsS0FBS2lFLGNBQWM3QyxVQUFVRSxPQUFPdEIsS0FBSzRDLHNCQUN6QzVDLEtBQUtpRSxjQUFjQyxVQUFXLEVBRWxDLENBRUFGLG1CQUFBQSxHQUNFaEUsS0FBS2lFLGNBQWM3QyxVQUFVQyxJQUFJckIsS0FBSzRDLHNCQUN0QzVDLEtBQUtpRSxjQUFjQyxVQUFXLENBQ2hDLENBRUF0RCxrQkFBQUEsR0FDRVosS0FBSzBELFVBQVksSUFBSTFELEtBQUtrRCxRQUFRaUIsaUJBQWlCbkUsS0FBS3dDLGlCQUN4RHhDLEtBQUtpRSxjQUFnQmpFLEtBQUtrRCxRQUFRdEIsY0FBYzVCLEtBQUswQyx1QkFDckQxQyxLQUFLK0QscUJBRUwvRCxLQUFLMEQsVUFBVVUsU0FBU2hCLElBQ3RCQSxFQUFRdEMsaUJBQWlCLFNBQVMsS0FDaENkLEtBQUs4RCxvQkFBb0JWLEdBQ3pCcEQsS0FBSytELG1CQUFtQi9ELEtBQUswRCxVQUFXMUQsS0FBS2lFLGNBQWMsR0FDM0QsR0FFTixDQUVBSSxnQkFBQUEsR0FDRXJFLEtBQUtrRCxRQUFRcEMsaUJBQWlCLFVBQVd3RCxJQUN2Q0EsRUFBRUMsZ0JBQWdCLElBR3BCdkUsS0FBS1ksb0JBQ1AsR0N0RWEsTUFBTTRELEVBQ25COUUsV0FBQUEsQ0FBVytFLEdBQW9CLElBQW5CLGNBQUVDLEdBQWVELEVBQzNCekUsS0FBSzJFLGNBQWdCaEQsU0FBU0MsY0FBYzhDLEdBQzVDMUUsS0FBSzRFLGdCQUFrQjVFLEtBQUs0RSxnQkFBZ0JDLEtBQUs3RSxLQUNuRCxDQUNBOEUsSUFBQUEsR0FDRTlFLEtBQUsyRSxjQUFjdkQsVUFBVUMsSUFBSSxnQkFDakNNLFNBQVNiLGlCQUFpQixVQUFXZCxLQUFLNEUsZ0JBQzVDLENBRUFHLEtBQUFBLEdBQ0UvRSxLQUFLMkUsY0FBY3ZELFVBQVVFLE9BQU8sZ0JBQ3BDSyxTQUFTcUQsb0JBQW9CLFVBQVdoRixLQUFLNEUsZ0JBQy9DLENBRUFBLGVBQUFBLENBQWdCSyxHQUNFLFdBQVpBLEVBQUlDLEtBQ05sRixLQUFLK0UsT0FFVCxDQUVBSSxpQkFBQUEsR0FDRW5GLEtBQUsyRSxjQUNGL0MsY0FBYyxpQkFDZGQsaUJBQWlCLFNBQVMsS0FDekJkLEtBQUsrRSxPQUFPLElBRWhCL0UsS0FBSzJFLGNBQWM3RCxpQkFBaUIsYUFBY21FLEtBRTlDQSxFQUFJRyxPQUFPaEUsVUFBVWlFLFNBQVMsVUFDOUJKLEVBQUlHLE9BQU9oRSxVQUFVaUUsU0FBUyxrQkFFOUJyRixLQUFLK0UsT0FDUCxHQUVKLEVDakNhLE1BQU1PLFVBQXNCZCxFQUN6QzlFLFdBQUFBLENBQVcrRSxHQUFzQyxJQUFyQyxjQUFFQyxFQUFhLGlCQUFFYSxHQUFrQmQsRUFDN0NlLE1BQU0sQ0FBRWQsa0JBQ1IxRSxLQUFLeUYsV0FBYXpGLEtBQUsyRSxjQUFjL0MsY0FBYyxnQkFDbkQ1QixLQUFLMEYsa0JBQW9CSCxFQUN6QnZGLEtBQUsyRixlQUFpQjNGLEtBQUsyRSxjQUFjUixpQkFBaUIsaUJBQzFEbkUsS0FBS2lFLGNBQWdCakUsS0FBSzJFLGNBQWMvQyxjQUFjLGtCQUN0RDVCLEtBQUs0RixrQkFBb0I1RixLQUFLaUUsY0FBYzlCLFdBQzlDLENBRUEwRCxlQUFBQSxHQUNFLE1BQU1DLEVBQWMsQ0FBQyxFQUlyQixPQUhBOUYsS0FBSzJGLGVBQWV2QixTQUFTMkIsSUFDM0JELEVBQVlDLEVBQWE3RixNQUFRNkYsRUFBYUMsS0FBSyxJQUU5Q0YsQ0FDVCxDQUVBRyxhQUFBQSxDQUFjQyxHQUFzQyxJQUEzQkMsRUFBV0MsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBRyxZQUVuQ3BHLEtBQUtpRSxjQUFjOUIsWUFEakIrRCxFQUMrQkMsRUFFQW5HLEtBQUs0RixpQkFFMUMsQ0FFQVcsU0FBQUEsR0FDRXZHLEtBQUt5RixXQUFXZSxPQUNsQixDQUVBckIsaUJBQUFBLEdBQ0VLLE1BQU1MLG9CQUNObkYsS0FBS3lGLFdBQVczRSxpQkFBaUIsVUFBV21FLElBQzFDQSxFQUFJVixpQkFDSnZFLEtBQUswRixrQkFBa0IxRixLQUFLNkYsa0JBQWtCLEdBRWxELEVDMkNLLE1BQU1ZLEVBQU0sSUFqRm5CLE1BQ0UvRyxXQUFBQSxDQUFZZ0gsR0FDVjFHLEtBQUsyRyxTQUFXRCxFQUFRRSxRQUN4QjVHLEtBQUs2RyxTQUFXSCxFQUFRSSxPQUMxQixDQUVBQyxjQUFBQSxDQUFlQyxHQUNiLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQU8sVUFBVUosRUFBSUssU0FDdEMsQ0FFQUMsZUFBQUEsR0FDRSxPQUFPQyxNQUFNLEdBQUd2SCxLQUFLMkcsaUJBQWtCLENBQ3JDRyxRQUFTOUcsS0FBSzZHLFdBQ2JXLEtBQUt4SCxLQUFLK0csZUFDZixDQUVBVSxPQUFBQSxDQUFRdkgsRUFBTUUsR0FDWixPQUFPbUgsTUFBTSxHQUFHdkgsS0FBSzJHLGlCQUFrQixDQUNyQ2UsT0FBUSxPQUNSWixRQUFTOUcsS0FBSzZHLFNBQ2RjLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkIzSCxLQUFNQSxFQUNORSxLQUFNQSxNQUVQb0gsS0FBS3hILEtBQUsrRyxlQUNmLENBRUFlLFVBQUFBLENBQVdDLEdBQ1QsT0FBT1IsTUFBTSxHQUFHdkgsS0FBSzJHLGtCQUFrQm9CLElBQVUsQ0FDL0NMLE9BQVEsU0FDUlosUUFBUzlHLEtBQUs2RyxXQUNiVyxLQUFLeEgsS0FBSytHLGVBQ2YsQ0FFQWlCLFdBQUFBLEdBQ0UsT0FBT1QsTUFBTSxHQUFHdkgsS0FBSzJHLG9CQUFxQixDQUN4Q0csUUFBUzlHLEtBQUs2RyxXQUNiVyxLQUFLeEgsS0FBSytHLGVBQ2YsQ0FFQWtCLFdBQUFBLENBQVkvSCxFQUFNZ0ksR0FDaEIsT0FBT1gsTUFBTSxHQUFHdkgsS0FBSzJHLG9CQUFxQixDQUN4Q2UsT0FBUSxRQUNSWixRQUFTOUcsS0FBSzZHLFNBQ2RjLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkIzSCxLQUFNQSxFQUNOZ0ksTUFBT0EsTUFFUlYsS0FBS3hILEtBQUsrRyxlQUNmLENBRUFvQixPQUFBQSxDQUFRSixHQUNOLE9BQU9SLE1BQU0sR0FBR3ZILEtBQUsyRyxrQkFBa0JvQixVQUFnQixDQUNyREwsT0FBUSxNQUNSWixRQUFTOUcsS0FBSzZHLFdBQ2JXLEtBQUt4SCxLQUFLK0csZUFDZixDQUVBcUIsVUFBQUEsQ0FBV0wsR0FDVCxPQUFPUixNQUFNLEdBQUd2SCxLQUFLMkcsa0JBQWtCb0IsVUFBZ0IsQ0FDckRMLE9BQVEsU0FDUlosUUFBUzlHLEtBQUs2RyxXQUNiVyxLQUFLeEgsS0FBSytHLGVBQ2YsQ0FFQXNCLFlBQUFBLENBQWFDLEdBQ1gsT0FBT2YsTUFBTSxHQUFHdkgsS0FBSzJHLDJCQUE0QixDQUMvQ2UsT0FBUSxRQUNSWixRQUFTOUcsS0FBSzZHLFNBQ2RjLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJVLE9BQVFELE1BRVRkLEtBQUt4SCxLQUFLK0csZUFDZixHQUt5QixDQUN6QkgsUUFBUyxrREFDVEUsUUFBUyxDQUNQMEIsY0FBZSx1Q0FDZixlQUFnQixzQkMxRFBDLEVBQXFCLENBQ2hDaEcsY0FBZSxnQkFDZkUscUJBQXNCLGlCQUN0QkUsb0JBQXFCLHlCQUNyQkUsZ0JBQWlCLDBCQUNqQkUsV0FBWSx3QkFHRHlGLEVBQW1CL0csU0FBU0MsY0FBYyx3QkFDMUMrRyxFQUFtQmhILFNBQVNDLGNBQWMsd0JBQzFDZ0gsRUFBMEJqSCxTQUFTQyxjQUM5Qyw4QkNyQklpSCxFQUFrQmxILFNBQVNDLGNBQWMsdUJBQ3pDa0gsRUFBaUJuSCxTQUFTQyxjQUFjLG1CQUN4Q21ILEVBQWlCcEgsU0FBU0MsY0FBYyx3QkFDeENvSCxFQUFnQnJILFNBQVNDLGNBQWMseUJBQ3ZDcUgsRUFBaUJ0SCxTQUFTdUgsTUFBTSxvQkFDaENYLEVBQVM1RyxTQUFTQyxjQUFjLG1CQUloQ3VILEVBQWEsSUN4QkosY0FBNkIzRSxFQUMxQzlFLFdBQUFBLENBQVcrRSxHQUFvQixJQUFuQixjQUFFQyxHQUFlRCxFQUMzQmUsTUFBTSxDQUFFZCxrQkFDUjFFLEtBQUtvSixVQUFZcEosS0FBSzJFLGNBQWMvQyxjQUFjLHlCQUNsRDVCLEtBQUtxSixVQUFZckosS0FBSzJFLGNBQWMvQyxjQUFjLHdCQUNwRCxDQUNBa0QsSUFBQUEsQ0FBS25GLEdBQ0hLLEtBQUtxSixVQUFVbEgsWUFBY3hDLEVBQUtPLEtBQ2xDRixLQUFLb0osVUFBVW5ILElBQU10QyxFQUFLUyxLQUMxQkosS0FBS29KLFVBQVVsSCxJQUFNdkMsRUFBS08sS0FFMUJzRixNQUFNVixNQUNSLEdEWW9DLENBQ3BDSixjQUFlLHlCQUdqQitCLEVBQUFBLGNBRUdlLE1BQU03SCxJQUNMMkosRUFBU3JCLFlBQVksQ0FDbkIvSCxLQUFNUCxFQUFLTyxLQUNYZ0ksTUFBT3ZJLEVBQUt1SSxNQUNaSyxPQUFRNUksRUFBSzRJLFFBQ2IsSUFFSGdCLE9BQU9DLEdBQVF6SSxRQUFRMEksTUFBTSwyQkFBNEJELEtBRTVELE1BQU1GLEVBQVcsSUV6Q0YsTUFDYjVKLFdBQUFBLENBQVcrRSxHQUFnRCxJQUEvQyxhQUFFaUYsRUFBWSxZQUFFQyxFQUFXLGVBQUVDLEdBQWdCbkYsRUFDdkR6RSxLQUFLNkosYUFBZWxJLFNBQVNDLGNBQWM4SCxHQUMzQzFKLEtBQUs4SixZQUFjbkksU0FBU0MsY0FBYytILEdBQzFDM0osS0FBSytKLGVBQWlCcEksU0FBU0MsY0FBY2dJLEVBQy9DLENBQ0E1QixXQUFBQSxHQUNFLE1BQU8sQ0FDTDlILEtBQU1GLEtBQUs2SixhQUFhMUgsWUFDeEIrRixNQUFPbEksS0FBSzhKLFlBQVkzSCxZQUN4Qm9HLE9BQVF2SSxLQUFLK0osZUFBZTlILElBRWhDLENBQ0FnRyxXQUFBQSxDQUFZdEksR0FDVkssS0FBSzZKLGFBQWExSCxZQUFjeEMsRUFBS08sS0FDckNGLEtBQUs4SixZQUFZM0gsWUFBY3hDLEVBQUt1SSxNQUNwQ2xJLEtBQUsrSixlQUFlOUgsSUFBTXRDLEVBQUs0SSxNQUNqQyxHRndCNEIsQ0FDNUJtQixhQUFjLGlCQUNkQyxZQUFhLHVCQUNiQyxlQUFnQixvQkFHWkksRUFBbUIsSUFBSTFFLEVBQWMsQ0FDekNaLGNBQWUsc0JBQ2ZhLGlCQUFtQjVGLElBQ2pCcUssRUFBaUIvRCxlQUFjLEdBQy9CUSxFQUFBQSxZQUNlOUcsRUFBS08sS0FBTVAsRUFBS3VJLE9BQzVCVixNQUFNeUMsSUFDTFgsRUFBU3JCLFlBQVlnQyxHQUNyQkQsRUFBaUJqRixRQUNqQmlGLEVBQWlCekQsWUFDakIyRCxFQUFrQmxHLHFCQUFxQixJQUV4Q3VGLE9BQU9DLEdBQVF6SSxRQUFRMEksTUFBTSwyQkFBNEJELEtBQ3pEVyxTQUFRLEtBQ1BILEVBQWlCL0QsZUFBYyxFQUFNLEdBQ3JDLElBSUZtRSxFQUFlLElBQUk5RSxFQUFjLENBQ3JDWixjQUFlLGtCQUNmYSxpQkFBa0JkLElBQW9CLElBQW5CLEtBQUV2RSxFQUFJLEtBQUVFLEdBQU1xRSxFQUMvQjJGLEVBQWFuRSxlQUFjLEdBQzNCUSxFQUFBQSxRQUNXdkcsRUFBTUUsR0FDZG9ILE1BQU02QyxJQUNMLE1BQU1DLEVBQWNDLEVBQVdGLEdBQy9CRyxFQUFTQyxTQUFTSCxHQUNsQkYsRUFBYXJGLFFBQ2JxRixFQUFhN0QsWUFDYm1FLEVBQWlCMUcscUJBQXFCLElBRXZDdUYsT0FBT0MsSUFDTnpJLFFBQVEwSSxNQUFNRCxFQUFJLElBRW5CVyxTQUFRLEtBQ1BDLEVBQWFuRSxlQUFjLEVBQU0sR0FDakMsSUFJRjBFLEVBQWUsSUdwRk4sY0FBK0JuRyxFQUM1QzlFLFdBQUFBLENBQVcrRSxHQUFvQixJQUFuQixjQUFFQyxHQUFlRCxFQUMzQmUsTUFBTSxDQUFFZCxrQkFDUjFFLEtBQUt5RixXQUFhekYsS0FBSzJFLGNBQWMvQyxjQUFjLGVBQ3JELENBRUFnSixlQUFBQSxDQUFnQkMsR0FDZDdLLEtBQUs4SyxxQkFBdUJELENBQzlCLENBRUExRixpQkFBQUEsR0FDRUssTUFBTUwsb0JBQ05uRixLQUFLeUYsV0FBVzNFLGlCQUFpQixVQUFXd0QsSUFDMUNBLEVBQUVDLGlCQUNGdkUsS0FBSzhLLHNCQUFzQixHQUUvQixHSG9Fd0MsQ0FDeENwRyxjQUFlLHdCQUdqQmlHLEVBQWF4RixvQkFJYixNQUFNcUYsRUFBVyxJSWhHRixNQUNiOUssV0FBQUEsQ0FBVytFLEVBQWVzRyxHQUFtQixJQUFqQyxTQUFFQyxHQUFVdkcsRUFDdEJ6RSxLQUFLaUwsVUFBWUQsRUFDakJoTCxLQUFLa0wsV0FBYXZKLFNBQVNDLGNBQWNtSixFQUMzQyxDQUVBSSxXQUFBQSxDQUFZQyxHQUNWQSxFQUFNaEgsU0FBU2lILElBQ2JyTCxLQUFLaUwsVUFBVUksRUFBSyxHQUV4QixDQUVBWixRQUFBQSxDQUFTYSxHQUNQdEwsS0FBS2tMLFdBQVdLLFFBQVFELEVBQzFCLEdKbUZBLENBQ0VOLFNBQVdYLElBQ1QsTUFBTUMsRUFBY0MsRUFBV0YsR0FDL0JHLEVBQVNDLFNBQVNILEVBQVksR0FHbEMsZ0JBS0YsU0FBU0MsRUFBV0YsR0FVbEIsT0FUYSxJQUFJNUssRUFDZjRLLEVBQ0Esa0JBQ0MxSyxJQUNDd0osRUFBV3JFLEtBQUtuRixFQUFLLEdBRXZCRyxFQUNBQyxHQUVVZ0MsU0FDZCxDQUlBLFNBQVNoQyxFQUFnQmdJLEVBQVF5RCxHQUMzQkEsRUFBYW5MLFNBQ2ZvRyxFQUFBQSxXQUNjc0IsR0FDWFAsTUFBSyxLQUNKZ0UsRUFBYWpLLGFBQVksR0FDekJSLFFBQVFDLElBQUksMkJBQTRCK0csRUFBTyxJQUVoRHdCLE9BQU9FLEdBQVUxSSxRQUFRMEksTUFBTSx1QkFBd0JBLEtBRTFEaEQsRUFBQUEsUUFDV3NCLEdBQ1JQLE1BQUssS0FDSmdFLEVBQWFqSyxhQUFZLEVBQUssSUFFL0JnSSxPQUFPRSxHQUFVMUksUUFBUTBJLE1BQU0sb0JBQXFCQSxJQUUzRCxDQUlBLFNBQVMzSixFQUFzQjBMLEdBQzdCYixFQUFhN0YsT0FDYjZGLEVBQWFDLGlCQUFnQixLQUMzQm5FLEVBQUFBLFdBQ2MrRSxFQUFhakwsS0FDeEJpSCxNQUFLLEtBQ0pnRSxFQUFhaEssbUJBQ2JtSixFQUFhNUYsT0FBTyxJQUVyQndFLE9BQU9FLEdBQVUxSSxRQUFRMEksTUFBTSx3QkFBeUJBLElBQU8sR0FFdEUsQ0FJQVQsRUFBY2xJLGlCQUFpQixTQUFTLEtBQ3RDMkssRUFBa0IzRyxNQUFNLElBRzFCLE1BQU0yRyxFQUFvQixJQUFJbkcsRUFBYyxDQUMxQ1osY0FBZSxxQkFDZmEsaUJBQW1CbUcsSUFDakJELEVBQWtCeEYsZUFBYyxHQUNoQyxNQUFNMEYsRUFBWUQsRUFBU3RMLEtBQzNCcUcsRUFBQUEsYUFDZ0JrRixHQUNibkUsTUFBTW9FLElBQ0xyRCxFQUFPdEcsSUFBTTJKLEVBQWdCckQsT0FDN0JrRCxFQUFrQjFHLFFBQ2xCMEcsRUFBa0JsRixZQUNsQnNGLEVBQW9CN0gscUJBQXFCLElBRTFDdUYsT0FBT0MsR0FBUXpJLFFBQVEwSSxNQUFNLHdCQUF5QkQsS0FDdERXLFNBQVEsS0FDUHNCLEVBQWtCeEYsZUFBYyxFQUFNLEdBQ3RDLElBSVJ3RixFQUFrQnRHLG9CQUlsQnVELEVBQWlCNUgsaUJBQWlCLFNBQVMsSUFBTXNKLEVBQWF0RixTQUM5RGtGLEVBQWlCN0Usb0JBQ2pCaUYsRUFBYWpGLG9CQUNiZ0UsRUFBV2hFLG9CQUVYNEQsRUFBZWpJLGlCQUFpQixTQUFTLEtBQ3ZDLE1BQU1nTCxFQUFrQnhDLEVBQVN0QixjQUNqQ1csRUFBaUIzQyxNQUFROEYsRUFBZ0I1TCxLQUN6QzBJLEVBQXdCNUMsTUFBUThGLEVBQWdCNUQsTUFDaEQ4QixFQUFpQmxGLE1BQU0sSUFLekIsTUFBTW9GLEVBQW9CLElBQUk2QixFQUM1QnRELEVBQ0FJLEdBR0k2QixFQUFtQixJQUFJcUIsRUFBY3RELEVBQW9CSyxHQUV6RCtDLEVBQXNCLElBQUlFLEVBQzlCdEQsRUFDQVEsR0FHRmlCLEVBQWtCN0YsbUJBQ2xCcUcsRUFBaUJyRyxtQkFDakJ3SCxFQUFvQnhILG1CQUVwQm9DLEVBQUFBLGtCQUVHZSxNQUFNd0UsSUFDTHhCLEVBQVNXLFlBQVlhLEVBQVUsSUFFaEN6QyxPQUFPQyxHQUFRekksUUFBUTBJLE1BQU0sK0JBQWdDRCxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlQ2FyZEltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkSW1hZ2VDbGljayA9IGhhbmRsZUNhcmRJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRDbGljayA9IGhhbmRsZURlbGV0ZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8gXCIuY2FyZF9fbGlrZS1idXR0b25cIlxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVGhpc1wiLCB0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCwgdGhpcyk7XG4gICAgfSk7XG4gICAgLy8gXCIuY2FyZF9fdHJhc2gtYnV0dG9uXCJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRJbWFnZUNsaWNrKHsgbGluazogdGhpcy5fbGluaywgbmFtZTogdGhpcy5fbmFtZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlSWNvbigpIHtcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgc2V0Q2FyZExpa2UoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XG4gIH1cblxuICBoYW5kbGVEZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGdldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsKSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9XG5cbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dEVsKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dEVsKSkge1xuICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9pbnB1dEVscywgdGhpcy5fc3VibWl0QnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dEVsZW1lbnQubmFtZV0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0Rm9ybSgpIHtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG59XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBhZGRDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJRCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJRH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElEKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoY2FyZElEKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXJVcmwpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhclVybCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyBvdGhlciBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdGhlIEFQSVxufVxuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiODBlZWZiNWQtM2M3Mi00ZTk2LWFhMzctNTZkYWZjOTkzMTFhXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxuKTtcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV0l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IHtcbiAgaW5pdGlhbENhcmRzLFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIGFkZE5ld0NhcmRCdXR0b24sXG4gIHByb2ZpbGVOYW1laW5wdXQsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmNvbnN0IGVkaXRGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuY29uc3QgYWRkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XG5jb25zdCBhdmF0YXJFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWltYWdlLWJ1dHRvblwiKTtcbmNvbnN0IGF2YXRhckVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJlZGl0LWF2YXRhci1mb3JtXCJdO1xuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcblxuLy8gUG9wdXBzXG5cbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXSXRoSW1hZ2Uoe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIsXG59KTtcblxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIEZldGNoaW5nIFVzZXIgSW5mb1wiLCBlcnIpKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiI3Byb2ZpbGUtdGl0bGVcIixcbiAgam9iU2VsZWN0b3I6IFwiI3Byb2ZpbGUtZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZWRpdFByb2ZpbGVQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dClcbiAgICAgIC50aGVuKCh1cGRhdGVkRGF0YSkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1cGRhdGVkRGF0YSk7XG4gICAgICAgIGVkaXRQcm9maWxlUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgZWRpdFByb2ZpbGVQb3B1cC5yZXNldEZvcm0oKTtcbiAgICAgICAgZWRpdEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgdXNlciBpbmZvXCIsIGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGVkaXRQcm9maWxlUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiI2FkZC1jYXJkLW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICh7IG5hbWUsIGxpbmsgfSkgPT4ge1xuICAgIGFkZENhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLmFkZENhcmQobmFtZSwgbGluaylcbiAgICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtcyhjYXJkRWxlbWVudCk7XG4gICAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xuICAgICAgICBhZGRDYXJkUG9wdXAucmVzZXRGb3JtKCk7XG4gICAgICAgIGFkZEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGFkZENhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbmNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjY29uZmlybWF0aW9uLW1vZGFsXCIsXG59KTtcblxuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIENhcmQgUmVuZGVyaW5nXG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgICAgY2FyZExpc3QuYWRkSXRlbXMoY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmNhcmRzX19saXN0XCJcbik7XG5cbi8vIENhcmQgY3JlYXRlIGZ1bmN0aW9uXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaW1hZ2VQb3B1cC5vcGVuKGRhdGEpO1xuICAgIH0sXG4gICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG5cbi8vIExpa2UgQnV0dG9uXG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkSUQsIGNhcmRJbnN0YW5jZSkge1xuICBpZiAoY2FyZEluc3RhbmNlLl9pc0xpa2VkKSB7XG4gICAgYXBpXG4gICAgICAucmVtb3ZlTGlrZShjYXJkSUQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmRJbnN0YW5jZS5zZXRDYXJkTGlrZShmYWxzZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibGlrZSByZW1vdmVkIGZvciBjYXJkIElEXCIsIGNhcmRJRCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcImVycm9yIHJlbW92aW5nIGxpa2U6XCIsIGVycm9yKSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpXG4gICAgICAuYWRkTGlrZShjYXJkSUQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmRJbnN0YW5jZS5zZXRDYXJkTGlrZSh0cnVlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWRkaW5nIGxpa2VcIiwgZXJyb3IpKTtcbiAgfVxufVxuXG4vLyBEZWxldGUgQnV0dG9uXG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmRDbGljayhjYXJkSW5zdGFuY2UpIHtcbiAgY29uZmlybVBvcHVwLm9wZW4oKTtcbiAgY29uZmlybVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkSW5zdGFuY2UuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkSW5zdGFuY2UuaGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgICBjb25maXJtUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgY2FyZHM6XCIsIGVycm9yKSk7XG4gIH0pO1xufVxuXG4vLyBVcGRhdGUgQXZhdGFyXG5cbmF2YXRhckVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdXBkYXRlQXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IHVwZGF0ZUF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNlZGl0LWF2YXRhci1tb2RhbFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAodXNlckRhdGEpID0+IHtcbiAgICB1cGRhdGVBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGNvbnN0IGF2YXRhclVSTCA9IHVzZXJEYXRhLmxpbms7XG4gICAgYXBpXG4gICAgICAudXBkYXRlQXZhdGFyKGF2YXRhclVSTClcbiAgICAgIC50aGVuKCh1cGRhdGVkVXNlckRhdGEpID0+IHtcbiAgICAgICAgYXZhdGFyLnNyYyA9IHVwZGF0ZWRVc2VyRGF0YS5hdmF0YXI7XG4gICAgICAgIHVwZGF0ZUF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgICAgIHVwZGF0ZUF2YXRhclBvcHVwLnJlc2V0Rm9ybSgpO1xuICAgICAgICBhdmF0YXJGb3JtVmFsaWRhdG9yLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGF2YXRhclwiLCBlcnIpKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICB1cGRhdGVBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbnVwZGF0ZUF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIEV2ZW50IExpc3RlbmVyc1xuXG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBhZGRDYXJkUG9wdXAub3BlbigpKTtcbmVkaXRQcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCBjdXJyZW50VXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTmFtZWlucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLm5hbWU7XG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLmFib3V0O1xuICBlZGl0UHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vLyBWYWxpZGF0aW9uIC8vXG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgZWRpdEZvcm1FbGVtZW50XG4pO1xuXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBhZGRGb3JtRWxlbWVudCk7XG5cbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBhdmF0YXJFZGl0Rm9ybVxuKTtcblxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigoY2FyZHNEYXRhKSA9PiB7XG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoY2FyZHNEYXRhKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBpbml0aWFsIGNhcmRzXCIsIGVycikpO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV0l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cFNyYyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCIpO1xuICAgIHRoaXMuX3BvcHVwQ2FwID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLWNhcHRpb25cIik7XG4gIH1cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fcG9wdXBDYXAudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fcG9wdXBTcmMuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3BvcHVwU3JjLmFsdCA9IGRhdGEubmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyxcbiAgICB9O1xuICB9XG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGRhdGEuYXZhdGFyO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuLy8gY3JlYXRlIHBvcHVwY29uZmlybSBjbGFzc1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9oYW5kbGVDb25maXJtRGVsZXRlID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlQ29uZmlybURlbGV0ZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbXMoZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9pZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZEltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9saWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZSIsIl9oYW5kbGVMaWtlSWNvbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInNldENhcmRMaWtlIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIl9jYXJkRWxlbWVudCIsImdldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImdldFZpZXciLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJzZXR0aW5ncyIsImZvcm1FbCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRFbHMiLCJldmVyeSIsInZhbGlkaXR5IiwidmFsaWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwiX3JlZiIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dEVsZW1lbnRzIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0RWxlbWVudCIsInZhbHVlIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicmVzZXRGb3JtIiwicmVzZXQiLCJhcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJ0aGVuIiwiYWRkQ2FyZCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZGVsZXRlQ2FyZCIsImNhcmRJRCIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhYm91dCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyVXJsIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInZhbGlkYXRpb25TZXR0aW5ncyIsImFkZE5ld0NhcmRCdXR0b24iLCJwcm9maWxlTmFtZWlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJlZGl0Rm9ybUVsZW1lbnQiLCJhZGRGb3JtRWxlbWVudCIsInByb2ZpbGVFZGl0QnRuIiwiYXZhdGFyRWRpdEJ0biIsImF2YXRhckVkaXRGb3JtIiwiZm9ybXMiLCJpbWFnZVBvcHVwIiwiX3BvcHVwU3JjIiwiX3BvcHVwQ2FwIiwidXNlckluZm8iLCJjYXRjaCIsImVyciIsImVycm9yIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJlZGl0UHJvZmlsZVBvcHVwIiwidXBkYXRlZERhdGEiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImZpbmFsbHkiLCJhZGRDYXJkUG9wdXAiLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbXMiLCJhZGRGb3JtVmFsaWRhdG9yIiwiY29uZmlybVBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiX2hhbmRsZUNvbmZpcm1EZWxldGUiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkSW5zdGFuY2UiLCJ1cGRhdGVBdmF0YXJQb3B1cCIsInVzZXJEYXRhIiwiYXZhdGFyVVJMIiwidXBkYXRlZFVzZXJEYXRhIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImN1cnJlbnRVc2VySW5mbyIsIkZvcm1WYWxpZGF0b3IiLCJjYXJkc0RhdGEiXSwic291cmNlUm9vdCI6IiJ9