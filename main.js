!function(){"use strict";class e{constructor(e,t,s,r,i){this._name=e.name,this._link=e.link,this._isLiked=e.isLiked,this._id=e._id,this._cardSelector=t,this._handleCardImageClick=s,this._handleDeleteCardClick=r,this._handleLikeClick=i}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{console.log("This",this),this._handleLikeClick(this._id,this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCardClick(this)})),this._cardImage.addEventListener("click",(()=>{this._handleCardImageClick({link:this._link,name:this._name})}))}_handleLikeIcon(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}setCardLike(e){this._isLiked=e,this._handleLikeIcon()}_handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this.getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._deleteButton=this._cardElement.querySelector(".card__trash-button"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._handleLikeIcon(),this._setEventListeners(),this._cardElement}}var t=class{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_toggleButtonState(e){this._hasInvalidInput(e)?this.disableSubmitButton():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}disableSubmitButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_setEventListeners(){this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState(this._inputEls,this._submitButton)}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".modal__close").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal_opened"))&&this.close()}))}}class r extends s{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=s,this._inputElements=this._popupElement.querySelectorAll(".modal__input"),this._submitButton=this._popupElement.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}_getInputValues(){const e={};return this._inputElements.forEach((t=>{e[t.name]=t.value})),e}setIsLoading(e){this._submitButton.textContent=e?"Saving...":this._submitButtonText}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._popupForm.reset()}))}close(){super.close()}}const i=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}addCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse)}setUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"80eefb5d-3c72-4e96-aa37-56dafc99311a","Content-Type":"application/json"}}),n={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},o=document.querySelector(".profile__add-button"),a=document.querySelector("#profile-title-input"),l=document.querySelector("#profile-description-input"),c=document.querySelector("#profile-edit-modal"),d=document.querySelector("#add-card-modal"),h=document.querySelector("#profile-edit-button"),u=document.querySelector("#profile-image-button"),_=document.forms["edit-avatar-form"],p=document.querySelector(".profile__image"),m=new class extends s{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._popupSrc=this._popupElement.querySelector(".modal__preview-image"),this._popupCap=this._popupElement.querySelector(".modal__image-caption")}open(e){this._popupCap.textContent=e.name,this._popupSrc.src=e.link,this._popupSrc.alt=e.name,super.open()}}({popupSelector:"#preview-image-modal"});i.getUserInfo().then((e=>{E.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).catch((e=>console.error("Error Fetching User Info",e)));const E=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,description:this._jobElement.textContent.trim(),avatar:this._avatarElement.src}}setUserInfo(e){this._nameElement.textContent=e.name,this._jobElement.textContent=e.about,this._avatarElement.src=e.avatar}}({nameSelector:"#profile-title",jobSelector:"#profile-description",avatarSelector:".profile__image"}),v=new r({popupSelector:"#profile-edit-modal",handleFormSubmit:e=>{v.setIsLoading(!0),i.setUserInfo(e.name,e.about).then((e=>{E.setUserInfo(e),v.close(),y.disableSubmitButton()})).catch((e=>console.error("Error updating user info",e))).finally((()=>{v.setIsLoading(!1)}))}}),S=new r({popupSelector:"#add-card-modal",handleFormSubmit:e=>{let{name:t,link:s}=e;S.setIsLoading(!0),i.addCard(t,s).then((e=>{const t=L(e);k.addItems(t),S.close(),I.disableSubmitButton()})).catch((e=>{console.error(e)})).finally((()=>{S.setIsLoading(!1)}))}}),b=new class extends s{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form")}setSubmitAction(e){this._handleConfirmDelete=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleConfirmDelete(),this.close()}))}}({popupSelector:"#confirmation-modal"});b.setEventListeners();const k=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItems(e){this._container.prepend(e)}}({renderer:e=>{const t=L(e);k.addItems(t)}},".cards__list");function L(t){return new e(t,"#card-template",(e=>{m.open(e)}),C,f).getView()}function f(e,t){t._isLiked?i.removeLike(e).then((()=>{t.setCardLike(!1),console.log("like removed for card ID",e)})).catch((e=>console.error("error removing like:",e))):i.addLike(e).then((()=>{t.setCardLike(!0)})).catch((e=>console.error("Error adding like",e)))}function C(e){b.open(),b.setSubmitAction((()=>{i.deleteCard(e._id).then((()=>{e._handleDeleteCard(),b.close()})).catch((e=>console.error("Error deleting cards:",e)))}))}u.addEventListener("click",(()=>{g.open()}));const g=new r({popupSelector:"#edit-avatar-modal",handleFormSubmit:e=>{g.setIsLoading(!0);const t=e.link;i.updateAvatar(t).then((e=>{p.src=e.avatar,g.close(),B.disableSubmitButton()})).catch((e=>console.error("Error updating avatar",e))).finally((()=>{g.setIsLoading(!1)}))}});g.setEventListeners(),o.addEventListener("click",(()=>S.open())),v.setEventListeners(),S.setEventListeners(),m.setEventListeners(),h.addEventListener("click",(()=>{const e=E.getUserInfo();a.value=e.name,l.value=e.description,v.open()}));const y=new t(n,c),I=new t(n,d),B=new t(n,_);y.enableValidation(),I.enableValidation(),B.enableValidation(),i.getInitialCards().then((e=>{k.renderItems(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlQ2FyZEltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkSW1hZ2VDbGljayA9IGhhbmRsZUNhcmRJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRDbGljayA9IGhhbmRsZURlbGV0ZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8gXCIuY2FyZF9fbGlrZS1idXR0b25cIlxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVGhpc1wiLCB0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCwgdGhpcyk7XG4gICAgfSk7XG4gICAgLy8gXCIuY2FyZF9fdHJhc2gtYnV0dG9uXCJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRJbWFnZUNsaWNrKHsgbGluazogdGhpcy5fbGluaywgbmFtZTogdGhpcy5fbmFtZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlSWNvbigpIHtcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgc2V0Q2FyZExpa2UoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBnZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLmdldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbCkge1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWwgPSBmb3JtRWw7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRFbCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRFbCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGRpc2FibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5faW5wdXRFbHMsIHRoaXMuX3N1Ym1pdEJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpIHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXRFbGVtZW50Lm5hbWVdID0gaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldElzTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG59XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBhZGRDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJRCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJRH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElEKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoY2FyZElEKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXJVcmwpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhclVybCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICAvLyBvdGhlciBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdGhlIEFQSVxufVxuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiODBlZWZiNWQtM2M3Mi00ZTk2LWFhMzctNTZkYWZjOTkzMTFhXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxuKTtcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV0l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IHtcbiAgaW5pdGlhbENhcmRzLFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIGFkZE5ld0NhcmRCdXR0b24sXG4gIHByb2ZpbGVOYW1laW5wdXQsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmNvbnN0IGVkaXRGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuY29uc3QgYWRkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XG5jb25zdCBhdmF0YXJFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWltYWdlLWJ1dHRvblwiKTtcbmNvbnN0IEF2YXRhckVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJlZGl0LWF2YXRhci1mb3JtXCJdO1xuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcblxuLy8gUG9wdXBzXG5cbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXSXRoSW1hZ2Uoe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIsXG59KTtcblxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIEZldGNoaW5nIFVzZXIgSW5mb1wiLCBlcnIpKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiI3Byb2ZpbGUtdGl0bGVcIixcbiAgam9iU2VsZWN0b3I6IFwiI3Byb2ZpbGUtZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZWRpdFByb2ZpbGVQb3B1cC5zZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgYXBpXG4gICAgICAuc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLmFib3V0KVxuICAgICAgLnRoZW4oKHVwZGF0ZWREYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVwZGF0ZWREYXRhKTtcbiAgICAgICAgZWRpdFByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgICAgICBlZGl0Rm9ybVZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyB1c2VyIGluZm9cIiwgZXJyKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgZWRpdFByb2ZpbGVQb3B1cC5zZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNhZGQtY2FyZC1tb2RhbFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoeyBuYW1lLCBsaW5rIH0pID0+IHtcbiAgICBhZGRDYXJkUG9wdXAuc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLmFkZENhcmQobmFtZSwgbGluaylcbiAgICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtcyhjYXJkRWxlbWVudCk7XG4gICAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xuICAgICAgICBhZGRGb3JtVmFsaWRhdG9yLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhZGRDYXJkUG9wdXAuc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbmNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjY29uZmlybWF0aW9uLW1vZGFsXCIsXG59KTtcblxuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIENhcmQgUmVuZGVyaW5nXG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgICAgY2FyZExpc3QuYWRkSXRlbXMoY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmNhcmRzX19saXN0XCJcbik7XG5cbi8vIENhcmQgY3JlYXRlIGZ1bmN0aW9uXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaW1hZ2VQb3B1cC5vcGVuKGRhdGEpO1xuICAgIH0sXG4gICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG5cbi8vIExpa2UgQnV0dG9uXG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkSUQsIGNhcmRJbnN0YW5jZSkge1xuICBpZiAoY2FyZEluc3RhbmNlLl9pc0xpa2VkKSB7XG4gICAgYXBpXG4gICAgICAucmVtb3ZlTGlrZShjYXJkSUQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmRJbnN0YW5jZS5zZXRDYXJkTGlrZShmYWxzZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibGlrZSByZW1vdmVkIGZvciBjYXJkIElEXCIsIGNhcmRJRCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcImVycm9yIHJlbW92aW5nIGxpa2U6XCIsIGVycm9yKSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpXG4gICAgICAuYWRkTGlrZShjYXJkSUQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmRJbnN0YW5jZS5zZXRDYXJkTGlrZSh0cnVlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWRkaW5nIGxpa2VcIiwgZXJyb3IpKTtcbiAgfVxufVxuXG4vLyBEZWxldGUgQnV0dG9uXG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmRDbGljayhjYXJkSW5zdGFuY2UpIHtcbiAgY29uZmlybVBvcHVwLm9wZW4oKTtcbiAgY29uZmlybVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkSW5zdGFuY2UuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkSW5zdGFuY2UuX2hhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGNhcmRzOlwiLCBlcnJvcikpO1xuICB9KTtcbn1cblxuLy8gVXBkYXRlIEF2YXRhclxuXG5hdmF0YXJFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHVwZGF0ZUF2YXRhclBvcHVwLm9wZW4oKTtcbn0pO1xuXG5jb25zdCB1cGRhdGVBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjZWRpdC1hdmF0YXItbW9kYWxcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHVzZXJEYXRhKSA9PiB7XG4gICAgdXBkYXRlQXZhdGFyUG9wdXAuc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIGNvbnN0IGF2YXRhclVSTCA9IHVzZXJEYXRhLmxpbms7XG4gICAgYXBpXG4gICAgICAudXBkYXRlQXZhdGFyKGF2YXRhclVSTClcbiAgICAgIC50aGVuKCh1cGRhdGVkVXNlckRhdGEpID0+IHtcbiAgICAgICAgYXZhdGFyLnNyYyA9IHVwZGF0ZWRVc2VyRGF0YS5hdmF0YXI7XG4gICAgICAgIHVwZGF0ZUF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgICAgIGF2YXRhckZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgYXZhdGFyXCIsIGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHVwZGF0ZUF2YXRhclBvcHVwLnNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG51cGRhdGVBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBFdmVudCBMaXN0ZW5lcnNcblxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkQ2FyZFBvcHVwLm9wZW4oKSk7XG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucHJvZmlsZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY3VycmVudFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZU5hbWVpbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5uYW1lO1xuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5kZXNjcmlwdGlvbjtcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuLy8gVmFsaWRhdGlvbiAvL1xuXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIGVkaXRGb3JtRWxlbWVudFxuKTtcblxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgYWRkRm9ybUVsZW1lbnQpO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgQXZhdGFyRWRpdEZvcm1cbik7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChjYXJkc0RhdGEpID0+IHtcbiAgY2FyZExpc3QucmVuZGVySXRlbXMoY2FyZHNEYXRhKTtcbn0pO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV0l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cFNyYyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCIpO1xuICAgIHRoaXMuX3BvcHVwQ2FwID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLWNhcHRpb25cIik7XG4gIH1cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fcG9wdXBDYXAudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fcG9wdXBTcmMuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3BvcHVwU3JjLmFsdCA9IGRhdGEubmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LnRyaW0oKSxcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbi8vIGNyZWF0ZSBwb3B1cGNvbmZpcm0gY2xhc3NcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gIH1cblxuICBzZXRTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybURlbGV0ZSA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1EZWxldGUoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW1zKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNhcmRDbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaXNMaWtlZCIsImlzTGlrZWQiLCJfaWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfbGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiX2RlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2UiLCJfaGFuZGxlTGlrZUljb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJzZXRDYXJkTGlrZSIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRFbGVtZW50IiwiZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsIl9jYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsInNldHRpbmdzIiwiZm9ybUVsIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWwiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVscyIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0RWxlbWVudHMiLCJfc3VibWl0QnV0dG9uVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXRFbGVtZW50IiwidmFsdWUiLCJzZXRJc0xvYWRpbmciLCJpc0xvYWRpbmciLCJyZXNldCIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJhZGRDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwiY2FyZElEIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImFib3V0IiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwidmFsaWRhdGlvblNldHRpbmdzIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsInByb2ZpbGVOYW1laW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsImVkaXRGb3JtRWxlbWVudCIsImFkZEZvcm1FbGVtZW50IiwicHJvZmlsZUVkaXRCdG4iLCJhdmF0YXJFZGl0QnRuIiwiQXZhdGFyRWRpdEZvcm0iLCJmb3JtcyIsImltYWdlUG9wdXAiLCJfcG9wdXBTcmMiLCJfcG9wdXBDYXAiLCJ1c2VySW5mbyIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImRlc2NyaXB0aW9uIiwidHJpbSIsImVkaXRQcm9maWxlUG9wdXAiLCJ1cGRhdGVkRGF0YSIsImVkaXRGb3JtVmFsaWRhdG9yIiwiZmluYWxseSIsImFkZENhcmRQb3B1cCIsImNhcmREYXRhIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwiY2FyZExpc3QiLCJhZGRJdGVtcyIsImFkZEZvcm1WYWxpZGF0b3IiLCJjb25maXJtUG9wdXAiLCJzZXRTdWJtaXRBY3Rpb24iLCJhY3Rpb24iLCJfaGFuZGxlQ29uZmlybURlbGV0ZSIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmRJbnN0YW5jZSIsInVwZGF0ZUF2YXRhclBvcHVwIiwidXNlckRhdGEiLCJhdmF0YXJVUkwiLCJ1cGRhdGVkVXNlckRhdGEiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiY3VycmVudFVzZXJJbmZvIiwiRm9ybVZhbGlkYXRvciIsImNhcmRzRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=